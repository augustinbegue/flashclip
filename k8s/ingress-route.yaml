# ============================================================================
# Traefik IngressRoute - Flashclip# Generated by AGL CLI
# ============================================================================

apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: flashclip
  namespace: flashclip
  labels:
    app: flashclip    
spec:
  entryPoints:
    - websecure
  routes:
    # Backend API routes (/api)
    - match: Host(`api.flashclip.server.begue.cc`) && PathPrefix(`/api`)
      kind: Rule
      priority: 100
      services:
        - name: flashclip-backend
          port: 80
    # Frontend routes (everything else)
    - match: Host(`api.flashclip.server.begue.cc`)
      kind: Rule
      priority: 1
      services:
        - name: flashclip-frontend
          port: 80
  tls:
    certResolver: letsencrypt